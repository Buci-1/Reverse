## 数组指针

```c
//一维数组指针访问一维数组
void Function_1_1()
{
	int arr[5] = {1,2,3,4,5};

	int (*p)[5] = (int (*)[5])arr;

	printf("%d\n",*(*(p)+4));

	int (*px)[2] = (int (*)[2])arr;

	printf("%d\n",*(*(px+1)+2));

	printf("%d\n",*(*(px+2)+0));

}
//一维数组指针访问二维数组
void Function_1_2()
{
	int arr[2][5] = 
	{
		{1,2,3,4,5},
		{6,7,8,9,10}
	};
	int (*p)[5] = (int (*)[5])arr;

	printf("%d\n",*(*(p)+4));

	printf("%d\n",*(*(p+1)+4));

	int (*px)[2] = (int (*)[2])arr;

	printf("%d\n",*(*(px)+4));

	printf("%d\n",*(*(px+1)+4));
}

//一维数组指针访问三维数组
void Function_1_3()
{
	int arr[3][3][2] = 
	{
		{{1,2},{3,4},{5}},
		{{6,7},{8},{9,10}},
		{{11},{12,13},{14,15}}
	};
	int (*p)[5] = (int (*)[5])arr;

	printf("%d\n",*(*(p)+4));

	printf("%d\n",*(*(p+1)+4));

	printf("%d\n",*(*(p+2)+2));
}
//二维数组指针访问一维数组
void Function_2_1()
{
	int arr[15] = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15};

	int (*p)[2][2] = (int (*)[2][2])arr;

	printf("%d %d %d\n",*(*(*(p))),p[0][0][0],(*(p))[0][0]);

	printf("%d %d %d\n",*(*(*(p+1)+1)),p[1][1][0],(*(p+1))[1][0]);

	printf("%d %d %d\n",*(*(*(p+1)+1)+1),p[1][1][1],(*(*(p+1)+1))[1]);

	printf("%d %d %d\n",*(*(*(p+2)+1)+2),p[2][1][2],(*(*(p+2)+1))[2]);
}
//二维数组指针访问二维数组
void Function_2_2()
{
	int arr[2][15] = 
	{
		{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15},
		{21,22,23,24,25,26,27,28,29,30,31,32,33,34,35}
	};

	int (*p)[2][2] = (int (*)[2][2])arr;

	printf("%d %d %d\n",*(*(*(p))),p[0][0][0],(*(p))[0][0]);

	printf("%d %d %d\n",*(*(*(p+1)+1)),p[1][1][0],(*(p+1))[1][0]);

	printf("%d %d %d\n",*(*(*(p+1)+1)+1),p[1][1][1],(*(*(p+1)+1))[1]);

	printf("%d %d %d\n",*(*(*(p+3)+2)+2),p[3][2][2],(*(*(p+3)+2))[2]);
}

```

### 总结

> 不是必须一维指针指一维数组，几维指几维，想怎么用怎么用，无所吊味

## 函数指针

```c
函数指针

1、函数指针的声明：

	返回类型(*函数名)(参数表) 

	如：int (*pFun)(int,int);

2、函数指针的属性探测：

	宽度

	 ++ --

	 +整数 -整数

	相减

	比较大小

	思考：

	探测结果为什么与其他的指针不同？
	因为无法确认函数的大小


3、函数指针的赋值：

	pFun = (int (*)(int,int))10;

	或者

	pFun = 函数名.

4、函数指针的使用：

	与函数使用方式相同


5、另一种常见的表示：

	typedef int (*Fun)(int,int);

	这个不是变量的声明，而是为函数指针起个别名：Fun 相当于函数指针类型

	Fun p;

	这个才是变量的声明，p是变量，Fun是类型.


6、隐藏代码到数据区：

	1、代码和数据有什么区别？

	2、其他步骤参见课堂：

	unsigned char code[] = 
	{
			0x55,
			0x8B, 0xEC,
			0x83, 0xEC, 0x40,
			0x53,
			0x56,
			0x57,
			0x8D, 0x7D, 0xC0,
			0xB9, 0x10, 0x00, 0x00, 0x00,
			0xB8, 0xCC, 0xCC, 0xCC, 0xCC,
			0xF3, 0xAB,
			0x8B, 0x45, 0x08,
			0x03, 0x45, 0x0C,
			0x5F,
			0x5E,
			0x5B,
			0x8B, 0xE5,
			0x5D,
			0xC3
	};
	int main(int argc, char* argv[])
	{
		typedef int (*Fun)(int,int);

		Fun p = (int (*)(int,int))&code;

		int x = p(2,2);

		printf("%d\n",x);

		return 0;
	}

```
